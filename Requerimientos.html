<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title> Lista de Requerimientos Backend</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      line-height: 1.6;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-bottom: 2rem;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.6em;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
    }
    h1, h2 {
      color: #333;
    }
  </style>
</head>
<body>

<h1> Lista de Requerimientos Backend (API RESTful)</h1>

<h2> Gesti贸n de Usuarios</h2>
<table>
<thead>
<tr><th>Funcionalidad</th><th>M茅todo</th><th>Endpoint</th><th>Parametros</th></tr>
</thead>
<tbody>
<tr><td>Registro de usuarios con firebase</td><td>POST</td><td>/api/usuarios/register</td><td>Se recibiran los datos de usuario y el token de firebase</td></tr>
<tr><td>Inicio de sesion de usuarios con firebase</td><td>POST</td><td>/api/usuarios/login</td><td>Se recibira token de firebase y se devuelve token JWT propio</td></tr>
<tr><td>Ver perfil de usuario</td><td>GET</td><td>/api/usuarios/{id}</td><td>Se recibira id del usuario</td></tr>
<tr><td>Edici贸n de perfil</td><td>PATCH</td><td>/api/usuarios/{id}</td><td>Se recibira id del usuario y los campos que van a modificar</td></tr>
<tr><td>Guardar profesional como favorito</td><td>POST</td><td>/api/usuarios/{id}/favoritos</td><td>Se recibira id de usuario y el id del trabajador</td></tr>
</tbody>
</table>

<h2> Sistema de Comunicaci贸n</h2>
<table>
<thead>
<tr><th>Funcionalidad</th><th>M茅todo</th><th>Endpoint</th><th>Parametros</th></tr>
</thead>
<tbody>
<tr><td>Generar enlace de redirecci贸n a WhatsApp con mensaje prellenado</td><td>GET</td><td>/api/whatsapp/link</td><td>Se recibira el id del trabajador</td></tr>
<tr><td>Generar enlace de redirecci贸n a Correo con asunto y cuerpo prellenado</td><td>GET</td><td>/api/email/link</td><td>Se recibira el id del trabajador</td></tr>
<tr><td>Notificaciones al usuario</td><td>GET</td><td>/api/notificaciones/{usuario_id}</td><td>Se recibira el id del usuario</td></tr>
<tr><td>Publicacion visible para todos</td><td>POST</td><td>/api/publicaciones</td><td>Se reciben los datos relacionado a la Publicacion para escribirla en la BD</td></tr>
</tbody>
</table>

<h2> Sistema de B煤squeda</h2>
<table>
<thead>
<tr><th>Funcionalidad</th><th>M茅todo</th><th>Endpoint</th></tr>
</thead>
<tbody>
<tr><td>Buscador de profesionales</td><td>GET</td><td>/api/profesionales/buscar</td></tr>
<tr><td>B煤squeda optimizada (&lt;3s)</td><td>GET</td><td>/api/profesionales/buscar</td></tr>
<tr><td>Filtro avanzado</td><td>GET</td><td>/api/profesionales/filtrar?... </td></tr>
<tr><td>Ver perfil profesional</td><td>GET</td><td>/api/profesionales/{id}</td></tr>
<tr><td>Redirecci贸n a perfil desde b煤squeda</td><td>GET</td><td>/api/profesionales/{id}</td></tr>
</tbody>
</table>

<h2> Sistema de Calificaci贸n</h2>
<table>
<thead>
<tr><th>Funcionalidad</th><th>M茅todo</th><th>Endpoint</th></tr>
</thead>
<tbody>
<tr><td>Puntuar profesional</td><td>POST</td><td>/api/profesionales/{id}/calificacion</td></tr>
<tr><td>Comentar calificaci贸n</td><td>POST</td><td>/api/profesionales/{id}/comentarios</td></tr>
<tr><td>Ver rese帽as</td><td>GET</td><td>/api/profesionales/{id}/calificaciones</td></tr>
</tbody>
</table>

<h2> Sistema de Pago y Suscripci贸n</h2>
<table>
<thead>
<tr><th>Funcionalidad</th><th>M茅todo</th><th>Endpoint</th></tr>
</thead>
<tbody>
<tr><td>Seleccionar plan</td><td>POST</td><td>/api/suscripciones/seleccionar</td></tr>
<tr><td>Cambiar plan</td><td>PUT</td><td>/api/suscripciones/cambiar</td></tr>
<tr><td>Ver suscripciones</td><td>GET</td><td>/api/suscripciones</td></tr>
<tr><td>Enviar factura al correo</td><td>POST</td><td>/api/facturacion/enviar</td></tr>
<tr><td>Notificaci贸n de renovaci贸n</td><td>GET</td><td>/api/suscripciones/notificacion-renovacion</td></tr>
</tbody>
</table>

<h2> Seguridad y Soporte</h2>
<table>
<thead>
<tr><th>Funcionalidad</th><th>M茅todo</th><th>Endpoint</th></tr>
</thead>
<tbody>
<tr><td>Protecci贸n de datos personales</td><td>Middleware</td><td>N/A</td></tr>
<tr><td>Bloqueo tras intentos fallidos</td><td>POST</td><td>/api/auth/login</td></tr>
<tr><td>Encriptaci贸n de contrase帽as</td><td>Middleware</td><td>/register, /usuarios/{id}</td></tr>
<tr><td>Error por credenciales inv谩lidas</td><td>POST</td><td>/api/auth/login</td></tr>
<tr><td>Autenticaci贸n 2FA (admin)</td><td>POST</td><td>/api/auth/2fa/verify</td></tr>
<tr><td>Preguntas frecuentes (FAQ)</td><td>GET</td><td>/api/soporte/faq</td></tr>
<tr><td>Formulario de contacto</td><td>POST</td><td>/api/soporte/contacto</td></tr>
</tbody>
</table>

<h2> Rendimiento y Disponibilidad</h2>
<table>
<thead>
<tr><th>Requerimiento</th><th>Descripci贸n</th></tr>
</thead>
<tbody>
<tr><td>Alta disponibilidad</td><td>El sistema debe estar disponible el 99.9% del tiempo laboral</td></tr>
<tr><td>Usuarios concurrentes</td><td>Soporte para al menos 500 usuarios concurrentes</td></tr>
<tr><td>Recuperaci贸n ante fallos</td><td>Tiempo m谩ximo de recuperaci贸n: 4 horas</td></tr>
</tbody>
</table>

</body>
</html>
